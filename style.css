/* -------------------------------------------------------
   Global Theme & Resets
------------------------------------------------------- */
:root {
  /* Palette */
  --bg: #f7f7fb;
  --surface: #ffffff;
  --text: #1c1c22;
  --muted: #6b6f76;
  --primary: #4f46e5;      /* Indigo */
  --primary-2: #7c3aed;    /* Violet accent */
  --accent: #10b981;       /* Emerald */
  --border: #e5e7eb;
  --shadow: 0 10px 30px rgba(16, 24, 40, .08);

  /* Radii & spacing */
  --r-sm: .5rem;
  --r-md: .8rem;
  --r-lg: 1.25rem;
  --space: clamp(12px, 1.5vw, 18px);

  /* Typography */
  --font-display: 'Belanosima', system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
  --font-body: Inter, system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
  --fs-base: clamp(16px, 1.1vw, 18px);
  --fs-lg: clamp(18px, 1.2vw, 20px);
  --fs-xl: clamp(24px, 2.4vw, 36px);
  --fs-xxl: clamp(32px, 4vw, 56px);

  /* Effects */
  --ring: 0 0 0 3px rgba(79,70,229,.25);
}

@media (prefers-color-scheme: dark) {
  :root {
    --bg: #0b0d12;
    --surface: #11151b;
    --text: #e9eaf0;
    --muted: #a4a9b3;
    --primary: #8b7cff;
    --primary-2: #b995ff;
    --accent: #34d399;
    --border: #1f2632;
    --shadow: 0 10px 30px rgba(0,0,0,.35);
  }
}

/* Optional manual dark theme toggle: add .theme-dark to <html> or <body> */
.theme-dark {
  --bg: #0b0d12;
  --surface: #11151b;
  --text: #e9eaf0;
  --muted: #a4a9b3;
  --primary: #8b7cff;
  --primary-2: #b995ff;
  --accent: #34d399;
  --border: #1f2632;
  --shadow: 0 10px 30px rgba(0,0,0,.35);
}

/* Global reset-ish */
*,
*::before,
*::after { box-sizing: border-box; }

html { scroll-behavior: smooth; }

body {
  margin: 0;
  background: radial-gradient(1200px 800px at 10% -10%, rgba(79,70,229,.08), transparent 60%),
              radial-gradient(1200px 800px at 90% 110%, rgba(16,185,129,.08), transparent 60%),
              var(--bg);
  color: var(--text);
  font-family: var(--font-body);
  font-size: var(--fs-base);
  line-height: 1.65;
}

/* Headings */
h1, h2, h3 {
  font-family: var(--font-display);
  letter-spacing: .2px;
  margin: 0 0 .5em;
}
h1 { font-size: var(--fs-xxl); }
h2 { font-size: var(--fs-xl); }
h3 { font-size: var(--fs-lg); }

/* Links */
a {
  color: var(--primary);
  text-decoration: none;
  position: relative;
  transition: color .2s ease, opacity .2s ease;
}
a:hover { color: var(--primary-2); }
a:focus-visible {
  outline: none;
  box-shadow: var(--ring);
  border-radius: var(--r-sm);
}

/* Utility spacing */
.section {
  padding: clamp(24px, 4vw, 64px)  clamp(16px, 4vw, 48px);
}
/* שמור על רוחב מקס' אבל תן padding אופקי כדי לאזן את ה-negative margins של .row */
.container{
  width: min(1120px, 100%);
  margin-inline: auto;
  padding-left: 12px;   /* ~.75rem */
  padding-right: 12px;  /* ~.75rem */
}
@media (min-width: 768px){
  .container{ padding-left: 16px; padding-right: 16px; }
}
img, svg, video, canvas{
  max-width: 100%;
  height: auto;
  display: block;      /* מונע רווחי inline שעלולים לגרום לגלילה קלה */
}
@media (max-width: 400px){
  .gallery{
    grid-template-columns: repeat(auto-fill, minmax(160px, 1fr));
  }
}
body{ overflow-wrap: anywhere; }
html, body{ overflow-x: hidden; }


/* -------------------------------------------------------
   Header / Footer
------------------------------------------------------- */
header {
  background: linear-gradient(180deg, rgba(255,255,255,.65), rgba(255,255,255,0));
  backdrop-filter: blur(6px);
  border-bottom: 1px solid var(--border);
  position: sticky;
  top: 0;
  z-index: 50;
}

.site-brand {
  display: flex;
  align-items: center;
  gap: .6rem;
  padding: .8rem 0;
  font-family: var(--font-display);
  font-weight: 700;
  color: var(--text);
}

nav a {
  margin-left: clamp(10px, 1vw, 20px);
  font-size: var(--fs-lg);
  padding: .25rem .35rem;
  border-radius: .35rem;
}
nav a:hover { background: rgba(127,127,127,.08); }

footer {
  background: linear-gradient(180deg, rgba(0,0,0,.75), rgba(0,0,0,.92));
  color: #fff;
  text-align: center;
  padding: 2.2rem 1rem;
  margin-top: 4rem;
  border-top: 1px solid rgba(255,255,255,.08);
}
footer a { font-size: var(--fs-base); color: #fff; opacity: .9; }
footer a:hover { opacity: 1; }

/* -------------------------------------------------------
   Cards / Surfaces
------------------------------------------------------- */
.card {
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: var(--r-lg);
  box-shadow: var(--shadow);
  padding: clamp(16px, 2.2vw, 28px);
  transition: transform .18s ease, box-shadow .18s ease, border-color .18s ease;
}
.card:hover {
  transform: translateY(-3px);
  box-shadow: 0 18px 40px rgba(16, 24, 40, .12);
  border-color: color-mix(in oklab, var(--border) 75%, var(--primary));
}

/* Badges */
.badge {
  display: inline-block;
  font-size: .825rem;
  padding: .2rem .55rem;
  border-radius: 999px;
  background: color-mix(in oklab, var(--primary) 14%, transparent);
  color: var(--primary);
  border: 1px solid color-mix(in oklab, var(--primary) 25%, transparent);
}

/* -------------------------------------------------------
   Profile & Hero
------------------------------------------------------- */
.profile {
  border-radius: 50%;
  display: block;
  margin: 0 auto;
  width: clamp(120px, 20vw, 200px);
  aspect-ratio: 1/1;
  object-fit: cover;
  border: 3px solid color-mix(in oklab, var(--primary) 35%, transparent);
  box-shadow: 0 12px 28px rgba(0,0,0,.12);
  transition: transform .25s ease;
}
.profile:hover { transform: scale(1.02); }

/* Intro block */
.hero {
  text-align: center;
  padding: clamp(32px, 6vw, 96px) 1rem;
}
.hero p {
  font-size: var(--fs-lg);
  color: var(--muted);
  max-width: 60ch;
  margin: .8rem auto 0;
}

/* -------------------------------------------------------
   Image helpers / Gallery
------------------------------------------------------- */
.custom-img {
  display: grid;
  place-items: center;
  height: clamp(220px, 30vh, 340px);
  background: linear-gradient(135deg, color-mix(in oklab, var(--primary) 10%, transparent), transparent 60%);
  border-radius: var(--r-md);
  border: 1px dashed color-mix(in oklab, var(--primary) 30%, var(--border));
}

.design-img {
  cursor: zoom-in;
  transition: transform .25s ease, opacity .25s ease, filter .25s ease;
  border-radius: var(--r-sm);
  box-shadow: 0 8px 20px rgba(0,0,0,.10);
}
.design-img:hover {
  transform: translateY(-2px) scale(1.02);
  opacity: .95;
  filter: saturate(1.05);
}

/* Optional masonry-like responsive grid */
.gallery {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(220px,1fr));
  gap: clamp(12px, 2vw, 20px);
}

/* -------------------------------------------------------
   ID Section background (kept your class)
------------------------------------------------------- */
.id {
  background-image: url('contents/background.jpg');
  background-size: cover;
  background-position: center;
  border: 2px solid var(--border);
  border-radius: var(--r-lg);
  padding: clamp(16px, 3vw, 36px);
  color: #fff;
  box-shadow: var(--shadow);
  font-size: var(--fs-xl);
  text-shadow: 0 1px 1px rgba(0,0,0,.35);
}

/* -------------------------------------------------------
   Buttons
------------------------------------------------------- */
.btn {
  display: inline-flex;
  align-items: center;
  gap: .5rem;
  padding: .7rem 1.1rem;
  font-weight: 600;
  border-radius: .8rem;
  border: 1px solid transparent;
  background: linear-gradient(180deg, var(--primary), color-mix(in oklab, var(--primary) 80%, #000));
  color: #fff;
  box-shadow: 0 8px 20px rgba(79,70,229,.25);
  transition: transform .12s ease, box-shadow .12s ease, filter .12s ease;
}
.btn:hover { transform: translateY(-2px); filter: brightness(1.03); }
.btn:active { transform: translateY(0); }
.btn:focus-visible { outline: none; box-shadow: var(--ring); }

.btn-outline {
  background: transparent;
  color: var(--primary);
  border-color: color-mix(in oklab, var(--primary) 60%, var(--border));
  box-shadow: none;
}
.btn-outline:hover {
  background: color-mix(in oklab, var(--primary) 12%, transparent);
}

/* -------------------------------------------------------
   Modal (kept your structure; added polish)
------------------------------------------------------- */
#myImg {
  border-radius: var(--r-sm);
  cursor: pointer;
  transition: opacity .25s ease, transform .25s ease;
}
#myImg:hover { opacity: .85; transform: translateY(-1px); }

.custom-modal {
  position: fixed;
  inset: 0;
  display: none;
  align-items: center;
  justify-content: center;
  background: rgba(2, 6, 23, 0.88);
  z-index: 1055;
  padding: 2rem;
  transition: opacity .2s ease;
  opacity: 0;
}
.custom-modal.open { display: flex; opacity: 1; }

.modal-box {
  position: relative;
  max-width: min(1100px, 96vw);
  max-height: 90vh;
  background: #000;
  border-radius: var(--r-md);
  box-shadow: 0 20px 48px rgba(0,0,0,.45);
  overflow: hidden;
  outline: none;
  text-align: center;
  border: 1px solid rgba(255,255,255,.06);
}

@keyframes zoom {
  from { transform: scale(.9); opacity: 0; }
  to   { transform: scale(1);  opacity: 1; }
}

.modal-img {
  display: block;
  max-width: 100%;
  max-height: 75vh;
  margin: 0 auto;
  animation: zoom .35s ease;
  border-radius: 6px;
  box-shadow: 0 0 24px rgba(0,0,0,.6);
}

.caption-text {
  color: #f8f9fa;
  padding: .75rem 1rem 1rem;
  font-size: .95rem;
  line-height: 1.5;
  background: #0b0f14;
  border-top: 1px solid rgba(255,255,255,.08);
}

.btn-close-modal {
  position: absolute;
  top: .35rem;
  right: .6rem;
  font-size: 2rem;
  line-height: 1;
  border: none;
  background: transparent;
  color: #fff;
  cursor: pointer;
  padding: .25rem .5rem;
  opacity: .9;
  z-index: 1100;
  transition: transform .18s ease, opacity .18s ease, color .18s ease;
}
.btn-close-modal:hover { opacity: 1; color: #ff6b6b; transform: rotate(6deg); }

/* Mobile tweaks */
@media (max-width: 700px) {
  .modal-img { width: 100%; }
}

/* -------------------------------------------------------
   Accessibility & Motion
------------------------------------------------------- */
:focus-visible { outline: none; box-shadow: var(--ring); }

@media (prefers-reduced-motion: reduce) {
  * { animation: none !important; transition: none !important; }
}

/* -------------------------------------------------------
   Fine-tunes: legacy selectors kept for compatibility
------------------------------------------------------- */
a {
  /* You originally set font-size: 50px on all links – this breaks layout.
     Use nav a / .btn sizes above; keep links readable here. */
  font-size: inherit;
  margin-left: 0;
}

header { /* using the enhanced header styles above */ }

footer a { font-size: var(--fs-base); }

/* Keep .custom-img as a centered container but nicer look handled above */
/* Header */
/* Header shell */
.site-header{
  position: sticky;
  top: 0;
  z-index: 1030;
  /* שכבת רקע עם blur לקונטרסט טוב מעל תוכן מאחור */
  background: rgba(255,255,255,.78);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  border-bottom: 1px solid #e5e7eb;
  /* צל עדין */
  box-shadow: 0 8px 24px rgba(16,24,40,.06);
}

/* כותרות רספונסיביות ונקיות */
.brand-title{
  font-family: 'Belanosima', system-ui, sans-serif;
  font-weight: 700;
  letter-spacing: .2px;
  font-size: clamp(28px, 4vw, 48px);
  line-height: 1.05;
  margin: 0;
}
.brand-subtitle{
  color: #6b7280; /* אפור עדין */
  font-size: clamp(14px, 2.2vw, 18px);
  margin: 0;
}

/* תמונת פרופיל רספונסיבית */
.header-avatar{
  width: clamp(84px, 12vw, 120px);
  height: clamp(84px, 12vw, 120px);
  border-radius: 50%;
  object-fit: cover;
  border: 3px solid rgba(79,70,229,.25); /* קו סגלגל עדין */
}

/* כפתורי Call-to-Action – נוחים לרוחב, נשברים יפה */
.btn-cta{
  --btn-radius: 14px;
  border-radius: var(--btn-radius);
  padding: .75rem 1.25rem;
  font-weight: 700;
  border: 0;
  color: #fff;
  /* גרדיינט סגול עדין (נראה טוב על בהיר ובדארק) */
  background: linear-gradient(180deg, #5b4bff, #3f35c8);
  box-shadow: 0 10px 20px rgba(63,53,200,.25), inset 0 1px 0 rgba(255,255,255,.25);
  transition: transform .15s ease, box-shadow .15s ease, filter .15s ease;
}
.btn-cta:hover{
  transform: translateY(-2px);
  filter: brightness(1.03);
  box-shadow: 0 14px 28px rgba(63,53,200,.28), inset 0 1px 0 rgba(255,255,255,.3);
}
.btn-cta:active{ transform: translateY(0); }
.btn-cta:focus-visible{
  outline: none;
  box-shadow: 0 0 0 3px rgba(91,75,255,.25);
}

/* תמיכה בדארק־מוד אוטומטי */
@media (prefers-color-scheme: dark){
  .site-header{
    background: rgba(17,21,27,.78);
    border-bottom-color: #1f2937;
    box-shadow: 0 8px 24px rgba(0,0,0,.35);
  }
  .brand-subtitle{ color: #a1a1aa; }
  .btn-cta{
    background: linear-gradient(180deg, #8b7cff, #6356ff);
    box-shadow: 0 10px 20px rgba(139,124,255,.25), inset 0 1px 0 rgba(255,255,255,.15);
  }
}

/* נגישות והפחתת תנועה */
@media (prefers-reduced-motion: reduce){
  .btn-cta{ transition: none; }
}

/* ====== Compact header on small screens ====== */
@media (max-width: 576px){
  .site-header{
    padding-block: .5rem;                 /* פחות גובה */
    background: rgba(255,255,255,.9);
    backdrop-filter: blur(6px);
  }
  .site-header .container{
    padding-left: .5rem;
    padding-right: .5rem;
  }

  /* מרחקים כלליים */
  .site-header .gap-3{ gap: .5rem !important; }
  .site-header .gap-4{ gap: .75rem !important; }

  /* כותרות קטנות יותר */
  .brand-title{
    font-size: clamp(22px, 6vw, 28px);
    line-height: 1.1;
    margin-bottom: .25rem;
  }
  .brand-subtitle{
    font-size: 13px;
    margin-bottom: .5rem;
  }

  /* תמונת פרופיל קטנה יותר */
  .header-avatar{
    width: 68px;
    height: 68px;
    border-width: 2px;
  }

  /* כפתורים קומפקטיים – שליש רוחב כדי שלא ישברו מוזר */
  .site-header nav{
    display: grid !important;
    grid-template-columns: repeat(3, 1fr);
    gap: .5rem;
  }
  .btn-cta{
    padding: .55rem .6rem;
    font-size: 14px;
    border-radius: 10px;
    box-shadow: 0 6px 12px rgba(63,53,200,.2);
  }
}

/* טבלטים – עוד קצת קומפקטיות אבל לא מוגזם */
@media (min-width: 577px) and (max-width: 768px){
  .site-header{ padding-block: .75rem; }
  .brand-title{ font-size: clamp(26px, 4.2vw, 34px); }
  .brand-subtitle{ font-size: 14px; }
  .header-avatar{ width: 84px; height: 84px; }
  .btn-cta{ padding: .6rem 1rem; font-size: 15px; }
}

.site-header.shrink{
  padding-block: .35rem;
  box-shadow: 0 6px 16px rgba(16,24,40,.08);
}
.site-header.shrink .brand-title{ font-size: 20px; }
.site-header.shrink .brand-subtitle{ display:none; } /* לחסוך גובה */
.site-header.shrink .header-avatar{ width: 56px; height: 56px; }
.site-header.shrink .btn-cta{ padding: .45rem .6rem; font-size: 13px; }

/* ===== Smooth shrinking variables (defaults) ===== */
:root{
  --hdr-pad: 1rem;            /* padding-block header רגיל */
  --hdr-bg: rgba(255,255,255,.78);
  --hdr-blur: 10px;
  --title-size: clamp(28px, 4vw, 48px);
  --subtitle-size: clamp(14px, 2.2vw, 18px);
  --avatar: clamp(84px, 12vw, 120px);
  --btn-pad-y: .75rem;
  --btn-pad-x: 1.25rem;
  --btn-font: 1rem;
}

/* מצב מכווץ – משנים רק את המשתנים; השאר זורם באנימציה */
.site-header.shrink{
  --hdr-pad: .35rem;
  --hdr-bg: rgba(255,255,255,.92);
  --hdr-blur: 8px;
  --title-size: 20px;
  --subtitle-size: 0px;      /* נסתיר בעדינות */
  --avatar: 56px;
  --btn-pad-y: .45rem;
  --btn-pad-x: .6rem;
  --btn-font: .8125rem;      /* 13px בערך */
}

/* מחליפים שימושים קיימים למשתנים (לא חוסם אם הוגדר קודם) */
.site-header{
  padding-block: var(--hdr-pad);
  background: var(--hdr-bg);
  backdrop-filter: blur(var(--hdr-blur));
  -webkit-backdrop-filter: blur(var(--hdr-blur));
  transition:
    padding .28s ease,
    background-color .28s ease,
    backdrop-filter .28s ease,
    box-shadow .28s ease;
}

/* כותרות */
.brand-title{
  font-size: var(--title-size);
  transition: font-size .28s ease;
}
.brand-subtitle{
  font-size: var(--subtitle-size);
  line-height: 1.2;
  opacity: calc(var(--subtitle-size) > 0 ? 1 : 0);
  transition: font-size .28s ease, opacity .28s ease;
}

/* תמונה */
.header-avatar{
  width: var(--avatar);
  height: var(--avatar);
  transition: width .28s ease, height .28s ease, border-width .28s ease, transform .28s ease;
}

/* כפתורים */
.btn-cta{
  padding: var(--btn-pad-y) var(--btn-pad-x);
  font-size: var(--btn-font);
  transition: padding .28s ease, font-size .28s ease, transform .15s ease, box-shadow .15s ease, filter .15s ease;
}

/* מובייל – ערכי ברירת מחדל קומפקטיים יותר; עדיין יש shrink חלק */
@media (max-width: 576px){
  :root{
    --hdr-pad: .6rem;
    --title-size: clamp(22px, 6vw, 28px);
    --subtitle-size: 13px;
    --avatar: 68px;
    --btn-pad-y: .55rem;
    --btn-pad-x: .6rem;
    --btn-font: .875rem;
  }
}

/* דארק מוד – רקע/צל */
@media (prefers-color-scheme: dark){
  :root{ --hdr-bg: rgba(17,21,27,.78); }
  .site-header.shrink{ --hdr-bg: rgba(17,21,27,.9); }
}

/* כבוד להפחתת תנועה */
@media (prefers-reduced-motion: reduce){
  .site-header, .brand-title, .brand-subtitle, .header-avatar, .btn-cta{
    transition: none !important;
  }
}

/* Zoom toolbar inside modal */
.zoom-toolbar{
  position: absolute;
  left: 50%;
  top: .5rem;
  transform: translateX(-50%);
  display: inline-flex;
  gap: .25rem;
  background: rgba(17,17,17,.55);
  border: 1px solid rgba(255,255,255,.15);
  border-radius: 999px;
  padding: .25rem;
  z-index: 1200;
  backdrop-filter: blur(6px);
}
.zoom-btn{
  appearance: none;
  border: 0;
  color: #fff;
  background: rgba(255,255,255,.08);
  border-radius: 999px;
  padding: .35rem .6rem;
  font-weight: 700;
  line-height: 1;
  cursor: pointer;
}
.zoom-btn:hover{ background: rgba(255,255,255,.18); }
.zoom-reset{ min-width: 58px; }
